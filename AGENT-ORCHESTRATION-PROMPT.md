# 🚀 3-Agent Orchestration: ccusage Plus Implementation

**MISSION:** Coordinate CLI Enhancement, Dashboard Simplification, and Planning Logic agents to enhance **Claude Code Optimizer** with ccusage simplicity + essential power features.

---

## 🎯 AGENT COORDINATION COMMAND

```bash
claude --dangerously-skip-permissions

MULTI-AGENT ORCHESTRATION: ccusage Plus Implementation

You are coordinating three specialized agents working in parallel to enhance **Claude Code Optimizer** - maintaining ccusage simplicity while adding essential power features for Claude Code session optimization.

AGENT ROLES & COORDINATION:

🔧 AGENT 1: CLI Enhancement Specialist
📊 AGENT 2: Dashboard Simplification Specialist  
🧠 AGENT 3: Planning Logic Specialist

READ AGENT SPECIFICATIONS:
- agents/cli_enhancement_agent.md
- agents/dashboard_simplification_agent.md  
- agents/planning_logic_agent.md
- CCUSAGE-PLUS-IMPLEMENTATION.md

EXCELLENT FOUNDATION AVAILABLE:
✅ Professional React dashboard with real-time monitoring
✅ ccusage-compatible API endpoints (/api/reports/daily, weekly, etc.)
✅ Comprehensive SQLite session tracking (claude_usage.db)
✅ 5-hour block detection and weekly quota management
✅ LiveSessionExtractor with WebSocket real-time updates
✅ Complete agent infrastructure in agents/ directory

COORDINATED PARALLEL EXECUTION:

🔧 CLI Enhancement Agent - IMMEDIATE TASKS:
□ Create src/cli/cco.py with ccusage-compatible commands
□ Implement: daily, weekly, sessions, status (perfect ccusage compatibility)
□ Add power features: limits, plan, recommend, optimize, blocks
□ Use rich/click for beautiful terminal output with JSON support
□ Integrate with existing API endpoints for data
□ Sub-1-second response time for all commands

📊 Dashboard Simplification Agent - IMMEDIATE TASKS:
□ Add Simple/Advanced mode toggle to existing dashboard
□ Create SimpleDashboard component with ccusage-inspired minimalist view
□ Show essential metrics: current session, weekly status, quick actions
□ Maintain existing advanced dashboard for power users
□ Ensure smooth transitions between modes with user preference persistence

🧠 Planning Logic Agent - IMMEDIATE TASKS:
□ Create src/planning/simple_rules.py with heuristics-based logic
□ Implement project complexity detection (file count + language patterns)
□ Build traffic light quota system (🟢🟡🔴) using existing quota data
□ Add basic model recommendations based on task keyword patterns
□ Create session optimization suggestions from historical data

CRITICAL COORDINATION RULES:

1. SHARED API LAYER:
   - All agents use existing API endpoints in coordination/
   - CLI agent consumes dashboard APIs for consistency
   - Planning agent provides logic for both CLI and dashboard
   - No duplicate data processing logic

2. CCUSAGE PHILOSOPHY:
   ❌ NO AI/ML complexity - simple heuristics only
   ❌ NO calendar integration - focus on daily utility
   ❌ NO complex automation - rule-based logic
   ❌ NO setup friction - works with existing infrastructure

3. INTEGRATION POINTS:
   - CLI agent calls Planning agent for project analysis
   - Dashboard agent displays Planning agent results
   - All agents share same data models and types
   - Consistent output formatting across interfaces

4. TECHNICAL STANDARDS:
   - Use organized codebase templates as foundation
   - TypeScript for dashboard components
   - Python with click/rich for CLI
   - SQLite queries through existing database layer
   - React hooks for dashboard state management

COORDINATED DELIVERABLES:

Week 1 - Parallel Development:
🔧 CLI: Enhanced commands with ccusage compatibility + power features
📊 Dashboard: Simple Mode toggle with minimalist interface  
🧠 Planning: Rule-based project analysis and optimization logic

AGENT COORDINATION WORKFLOW:

Day 1-2: Foundation Setup
- CLI Agent: Create command structure and ccusage compatibility
- Dashboard Agent: Implement mode toggle and simple view layout
- Planning Agent: Build core heuristics and analysis functions

Day 3-4: Feature Integration  
- CLI Agent: Add power commands using Planning Agent logic
- Dashboard Agent: Integrate Planning Agent data into simple view
- Planning Agent: Optimize algorithms for real-time dashboard updates

Day 5: Polish & Testing
- All agents: Cross-agent integration testing
- Ensure consistent behavior across CLI and dashboard
- Performance optimization and error handling

SUCCESS CRITERIA:
✅ CLI feels exactly like ccusage but with Claude Code optimization
✅ Dashboard Simple Mode provides ccusage-inspired minimalist view
✅ Planning logic delivers actionable insights without complexity
✅ All agents work together seamlessly without conflicts
✅ Zero learning curve for existing ccusage users

IMMEDIATE EXECUTION:
1. Read all agent specifications and implementation plan
2. Begin parallel development with coordinated API integration
3. Focus on ccusage compatibility as foundation
4. Add essential power features without complexity creep
5. Test integration continuously across all three interfaces

RESULT: **Claude Code Optimizer** with ccusage-style simplicity - familiar interface, essential planning features, maximum daily value, zero complexity overhead.

Execute coordinated parallel agent development NOW!
```

---

## 🎯 AGENT COORDINATION MAP

```
┌─────────────────────────────────────────────────────────────┐
│                    SHARED DATA LAYER                        │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐│
│  │ claude_usage.db │ │ API Endpoints   │ │ WebSocket Data  ││
│  └─────────────────┘ └─────────────────┘ └─────────────────┘│
└─────────────────────────────────────────────────────────────┘
                              │
            ┌─────────────────┼─────────────────┐
            │                 │                 │
┌───────────▼──────────┐ ┌────▼──────┐ ┌───────▼───────────┐
│   🔧 CLI Agent       │ │📊 Dashboard│ │🧠 Planning Agent  │
│                      │ │   Agent    │ │                   │
│ • ccusage commands   │ │• Simple    │ │• Complexity       │
│ • Power features     │ │  Mode      │ │  Detection        │
│ • Rich terminal UI   │ │• Advanced  │ │• Quota Traffic    │
│ • JSON export        │ │  Toggle    │ │  Lights           │
│                      │ │• Minimal   │ │• Model Recommend  │
│ Calls Planning ────────→│  View      │ │• Session Optimize │
│ Agent for analysis   │ │            │ │                   │
└──────────────────────┘ └─────┬──────┘ └───────────────────┘
            │                  │                 │
            │                  │ Uses Planning ──┘
            │                  │ Agent data
            │                  │
            └──────────────────┼──────────────────┘
                              │
                    ┌─────────▼─────────┐
                    │   USER INTERFACE  │
                    │                   │
                    │ • CLI: cco daily  │
                    │ • Dashboard: UI   │
                    │ • Consistent UX   │
                    └───────────────────┘
```

---

## ⚡ SINGLE COMMAND EXECUTION

```bash
claude --dangerously-skip-permissions

Execute the complete 3-agent orchestration for ccusage Plus implementation as specified in AGENT-ORCHESTRATION-PROMPT.md.

Coordinate CLI Enhancement, Dashboard Simplification, and Planning Logic agents working in parallel to build "ccusage with superpowers" while maintaining ccusage philosophy and using the excellent existing foundation.

Begin coordinated parallel development immediately!
```

This orchestration prompt will:

1. **Coordinate all 3 agents** working simultaneously without conflicts
2. **Use your existing agent infrastructure** in the agents/ directory  
3. **Build on your excellent foundation** instead of starting over
4. **Follow ccusage Plus philosophy** - simplicity with essential power features
5. **Ensure seamless integration** across CLI, dashboard, and planning logic
6. **Deliver working system** that feels like "ccusage with superpowers"

The agents will work together to create the simplified, effective system we designed! 🚀